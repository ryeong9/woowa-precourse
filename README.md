# javascript-racingcar-precourse

## 자동차 경주 게임

### 📋 요구사항 정리

- 사용자가 입력한 자동차 이름들과 시도 횟수를 기반으로 경주를 진행합니다.
- 각 자동차는 랜덤 숫자(0~9)에 따라 전진 여부가 결정되며, 4 이상일 경우 한 칸 이동합니다.
- 모든 시도가 끝나면 최종 우승자를 출력합니다.
- 사용자가 잘못된 값을 입력할 경우, [ERROR]로 시작하는 메시지를 출력하고 프로그램을 종료합니다.
- Node.js 22.19.0 환경에서 실행 가능합니다.
- @woowacourse/mission-utils의 Console, Random API를 이용해 입출력을 처리합니다.

---

### ✅ 기능 목록

**1. 입력 및 검증**

- 자동차 이름 입력 및 길이(1~5자), 중복, 빈 문자열 검증
- 이름이 6자 이상일 경우 `[ERROR] 자동차 이름은 5자 이하만 가능합니다.` 예외 발생.
- 입력이 비어있을 경우 `[ERROR] 자동차 이름은 빈 문자열일 수 없습니다.`예외 발생.
- 쉼표 사이에 빈 값이 있을 경우 `[ERROR] 자동차 이름 사이에 빈 값이 있습니다.`예외 발생.
- 이름이 중복되는 경우 `[ERROR] 자동차 이름은 중복될 수 없습니다.` 예외 발생.
  <br>
- 시도 횟수 입력 및 숫자 여부 검증
- 시도 횟수가 양의 정수가 아닌 경우, `[ERROR] 시도 횟수는 양의 정수여야 합니다.` 예외 발생.

**2. 자동차 경주 로직**

- 각 자동차는 매 시도마다 0~9 사이의 무작위 값을 뽑는다.
- 무작위 값이 4 이상이면 전진, 아니면 멈춘다.
- 전진 하면 하이폰(-) 하나 추가하여 표현한다.
- 시도 횟수만큼 반복하며 각 턴마다 자동차들의 이동 결과를 출력한다.
  ```
  // 예시
  pobi : --
  woni :
  jun : --
  ```

**3. 결과 출력**

- 최종 우승자(가장 멀리 이동한 자동차)를 '`최종 우승자 : pobi`' 형태로 출력한다.
- 공동 우승자가 있을 경우 쉼표(,)로 구분한다.

**4. 테스트 코드 작성**

- 유효성 검사, 파싱, 난수 생성, 경주 로직, 우승자 계산 등 단위 테스트 구현
- 테스트 기반 개발(TDD)로 기능 단위 구현 및 리팩터링

---

### 📂 폴더 구조

```plaintext
📦 src
 ┣ 📂 constants
 ┃ ┗ 📜 errorMessages.js          # 에러 메시지 상수
 ┣ 📂 domain
 ┃ ┣ 📜 getWinners.js             # 우승자 계산 로직
 ┃ ┣ 📜 parseAndValidateCarNames.js # 입력값 파싱 및 검증 엔트리 포인트
 ┃ ┗ 📜 runRace.js                # 전체 경주 진행 로직
 ┣ 📂 utils
 ┃ ┣ 📜 generateRandomNumber.js   # 랜덤 숫자 생성
 ┃ ┣ 📜 parseInput.js             # 입력값 파싱
 ┃ ┗ 📜 validator.js              # 입력 검증
 ┣ 📂 view
 ┃ ┗ 📜 formatters.js             # 출력 포맷 관리
 ┣ 📜 App.js
 ┗ 📜 index.js
📂 __tests__                       # 단위 및 통합 테스트
 ┣ 📜 ApplicationTest.js
 ┣ 📜 formatters.test.js
 ┣ 📜 generateRandomNumber.test.js
 ┣ 📜 getWinners.test.js
 ┣ 📜 parseInput.test.js
 ┣ 📜 runRace.test.js
 ┗ 📜 validator.test.js
```

### 💬 짧은 회고

- 처음으로 테스트 코드를 먼저 작성하고 구현을 진행하는 TDD 방식을 적용해봤다.
- 테스트 코드 작성 자체도 처음이라 조금 시간이 걸리긴 했지만,
- 테스트를 작성하면서 자연스럽게 함수의 책임이 분리되고, 코드 구조가 명확해지는 걸 느꼈다.
- 여러 번의 리팩터링 과정에서도 테스트 코드가 확실한 안전망이 되어, 수정에 대한 두려움이 줄었다.
